#################################################################
## Automation Hue Kitchen
#################################################################

- alias: Entertainment area playing netflix motion sensor
  trigger:
    - platform: state
      entity_id: 'light.keuken'
      from: "on"
      to: "off"
    - platform: state
      to: 'playing'
      entity_id: media_player.entertainment_area
    - platform: state
      to: 'idle'
      entity_id: media_player.entertainment_area
  condition:
    condition: and
    conditions:
#      - condition: state
#        entity_id: 'light.keuken'
#        state: 'off'
      - condition: or
        conditions:
          - condition: template
            value_template: >-
              {%- if is_state_attr("media_player.entertainment_area", "app_name", "Netflix") -%}
                true
              {%- endif -%}
          - condition: template
            value_template: >-
              {%- if is_state_attr("media_player.entertainment_area", "app_name", "Default Media Receiver") -%}
                true
              {%- endif -%}
          - condition: template
            value_template: >-
              {%- if is_state_attr("media_player.entertainment_area", "app_name", "Ziggo GO") -%}
                true
              {%- endif -%}
          - condition: template
            value_template: >-
              {%- if is_state_attr("media_player.entertainment_area", "app_name", "PathÃ© Thuis") -%}
                true
              {%- endif -%}
          - condition: template
            value_template: >-
              {%- if is_state_attr("media_player.entertainment_area", "app_name", "Youtube") -%}
                true
              {%- endif -%}
  action:
    service: homeassistant.turn_on
    entity_id: scene.kitchen_netflix