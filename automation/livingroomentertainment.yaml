#################################################################
## Automations Entertainment area
#################################################################


 - alias: Entertainment area playing video
   trigger:
     - platform: state
       entity_id: media_player.entertainment_area
       to: 'playing'
     - platform: state
       entity_id: media_player.entertainment_area
       to: 'idle'
   condition:
     condition: and
     conditions:
       - condition: numeric_state
         entity_id: sensor.livingroom_lux
         below: 160
       - condition: or
         conditions:
           - condition: template
             value_template: >-
               {%- if is_state_attr("media_player.entertainment_area", "app_name", "Netflix") -%}
                 true
               {%- endif -%}
           - condition: template
             value_template: >-
               {%- if is_state_attr("media_player.entertainment_area", "app_name", "Default Media Receiver") -%}
                 true
               {%- endif -%}
           - condition: template
             value_template: >-
               {%- if is_state_attr("media_player.entertainment_area", "app_name", "Ziggo GO") -%}
                 true
               {%- endif -%}
           - condition: template
             value_template: >-
               {%- if is_state_attr("media_player.entertainment_area", "app_name", "PathÃ© Thuis") -%}
                 true
               {%- endif -%}
           - condition: template
             value_template: >-
               {%- if is_state_attr("media_player.entertainment_area", "app_name", "Youtube") -%}
                 true
               {%- endif -%}
           - condition: template
             value_template: >-
               {%- if is_state_attr("media_player.entertainment_area", "app_name", "Videostream'") -%}
                 true
               {%- endif -%}
   action:
     - service: script.turn_on
       entity_id: script.living_light_netflix
     - service: script.turn_on
       entity_id: script.living_entertainment_on

 - alias: Entertainment area playing soundcloud
   trigger:
     - platform: state
       entity_id: media_player.entertainment_area
       to: 'playing'
     - platform: state
       entity_id: media_player.entertainment_area
       to: 'idle'
   condition:
     - condition: template
       value_template: >-
         {%- if is_state_attr("media_player.entertainment_area", "app_name", "SoundCloud") -%}
           true
         {%- endif -%}
   action:
     - service: homeassistant.turn_on
       entity_id: scene.living_soundcloud
     - service: script.turn_on
       entity_id: script.living_entertainment_on

 - alias: Entertainment area playing spotify
   trigger:
     - platform: state
       entity_id: media_player.entertainment_area
       to: 'playing'
     - platform: state
       entity_id: media_player.entertainment_area
       to: 'idle'
   condition:
     condition: template
     value_template: >-
       {%- if is_state_attr("media_player.entertainment_area", "app_name", "Spotify") -%}
         true
       {%- endif -%}
   action:
     - service: homeassistant.turn_on
       entity_id: scene.living_spotify
     - service: script.turn_on
       entity_id: script.living_entertainment_on

 - alias: Entertainment area paused
   trigger:
     - platform: state
       entity_id: media_player.entertainment_area
       to: 'paused'
   condition:
     - condition: numeric_state
       entity_id: sensor.livingroom_lux
       below: 160
   action:
     - service: script.turn_on
       entity_id: script.living_light_netflix_paused

 - alias: Entertainment area off
   trigger:
     - platform: state
       entity_id: media_player.entertainment_area
       to: 'off'
   condition:
     - condition: numeric_state
       entity_id: sensor.livingroom_lux
       below: 160
   action:
     - service: script.turn_on
       entity_id: script.living_light_netflix_paused
     - service: script.turn_on
       entity_id: script.living_entertainment_off