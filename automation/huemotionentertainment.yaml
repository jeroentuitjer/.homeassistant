#################################################################
## Automations Entertainment area
#################################################################

 - alias: Entertainment area playing spotify
   trigger:
     - platform: state
       state: 'playing'
       entity_id: media_player.entertainment_area
   condition:
     condition: template
     value_template: >-
       {%- if is_state_attr("media_player.entertainment_area", "app_name", "Spotify") -%}
         true
       {%- endif -%}
   action:
     - service: homeassistant.turn_on
       entity_id: scene.living_spotify
     - service: media_player.turn_on
       entity_id: media_player.receiver
     - service: media_player.select_source
       data:
         entity_id: media_player.receiver
         source: cd_tv_cd

 - alias: Entertainment area playing netflix
   trigger:
     - platform: state
       state: 'playing'
       entity_id: media_player.entertainment_area
   condition:
     condition: and
     conditions:
       - condition: numeric_state
         entity_id: sensor.livingroom_lux
         below: 160  
       - condition: template
         value_template: >-
           {%- if is_state_attr("media_player.entertainment_area", "app_name", "Netflix") -%}
             true
           {%- endif -%}
   action:
     - service: homeassistant.turn_on
       entity_id: scene.living_netflix
     - service: media_player.turn_on
       entity_id: media_player.receiver
     - service: media_player.select_source
       data:
         entity_id: media_player.receiver
         source: cd_tv_cd

 - alias: Entertainment area playing mac
   trigger:
     - platform: state
       state: 'playing'
       entity_id: media_player.entertainment_area
   condition:
     condition: and
     conditions:
       - condition: numeric_state
         entity_id: sensor.livingroom_lux
         below: 160
       - condition: template
         value_template: >-
           {%- if is_state_attr("media_player.entertainment_area", "app_name", "Default Media Receiver") -%}
             true
           {%- endif -%}
   action:
     - service: homeassistant.turn_on
       entity_id: scene.living_netflix
     - service: media_player.turn_on
       entity_id: media_player.receiver
     - service: media_player.select_source
       data:
         entity_id: media_player.receiver
         source: cd_tv_cd

 - alias: Entertainment area playing youtube
   trigger:
     - platform: state
       state: 'playing'
       entity_id: media_player.entertainment_area
   condition:
     condition: and
     conditions:
       - condition: numeric_state
         entity_id: sensor.livingroom_lux
         below: 160
       - condition: template
         value_template: >-
           {%- if is_state_attr("media_player.entertainment_area", "app_name", "Youtube") -%}
             true
           {%- endif -%}
   action:
     - service: homeassistant.turn_on
       entity_id: scene.living_youtube
     - service: media_player.turn_on
       entity_id: media_player.receiver
     - service: media_player.select_source
       data:
         entity_id: media_player.receiver
         source: cd_tv_cd

 - alias: Entertainment area playing soundcloud
   trigger:
     - platform: state
       state: 'playing'
       entity_id: media_player.entertainment_area
   condition:
     condition: template
     value_template: >-
       {%- if is_state_attr("media_player.entertainment_area", "app_name", "SoundCloud") -%}
         true
       {%- endif -%}
   action:
     - service: homeassistant.turn_on
       entity_id: scene.living_soundcloud
     - service: media_player.turn_on
       entity_id: media_player.receiver
     - service: media_player.select_source
       data:
         entity_id: media_player.receiver
         source: cd_tv_cd


 - alias: Entertainment area paused 
   trigger:
     - platform: state
       state: 'paused'
       entity_id: media_player.entertainment_area
   condition:
     - condition: numeric_state
       entity_id: sensor.livingroom_lux
       below: 160
   action:
     service: homeassistant.turn_on
     entity_id: scene.living_normal
 

 - alias: Entertainment area stopped 
   trigger:
     - platform: state
       state: 'off'
       entity_id: media_player.entertainment_area
   condition:
     - condition: numeric_state
       entity_id: sensor.livingroom_lux
       below: 160
     - condition: template
       value_template: >-
         {%- if is_state_attr("media_player.reciever", "source", "HTPC") -%}
           true
         {%- endif -%}   
   action:
     - service: media_player.turn_off
       entity_id: media_player.receiver
     - service: media_player.turn_off
       entity_id: media_player.ue48ju6500_ue48ju6500
